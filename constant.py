# ============================================================
# constant.py # Sabitler ve tablolar
# ============================================================

# ============================================================
# 1) ONE-WAY SLAB MOMENT COEFFICIENTS (TS500)
# For use when q/g ≤ 2 and Lmin/Lmax > 0.8
# ============================================================
ONEWAY_COEFFICIENTS = {
    "simple": {
        "pos": 1/8,       # Simple span: M = w*Ln²/8
        "neg": 0.0        # No negative moment
    },
    "one_end_continuous": {
        "pos": 1/11,      # Positive moment at midspan
        "neg_cont": 1/10  # Negative moment at continuous end
    },
    "both_ends_continuous": {
        "pos": 1/16,      # Positive moment at midspan
        "neg": 1/11       # Negative moment at supports
    },
    "cantilever": {
        "neg": 1/2        # M = w*Ln²/2
    }
}

# Minimum material values
MIN_CONCRETE_GRADE = 25  # C25 minimum per Turkish code
MIN_BEAM_WIDTH_MM = 250  # Minimum beam width per TS500/TBDY-2018

# ============================================================
# 2) K / ks ABAK TABLOSU
# K (x10^5) olarak veriliyor.
# K hesabı:  K = (b*d^2/M) * 1e5  [b=1000mm şerit, d=mm, M=Nmm/m]
# ============================================================

K_TABLE_ROWS = [
    # i,    C25,    C30,    C35,    C40,    C45,    C50,  ksS420, ksB500
    (1,  14263.0, 12123.0, 10542.0,  8980.0, 8082.0, 7274.4, 2.75, 2.31),
    (2,   3675.3,  3124.0,  2716.6,  2314.0, 2082.0, 1874.4, 2.76, 2.31),
    (3,   1683.9,  1431.3,  1244.7,  1060.0,  954.2,  858.8, 2.77, 2.32),
    (4,    976.7,   830.2,   721.9,   614.9,  553.4,  498.1, 2.78, 2.33),
    (5,    644.6,   547.9,   476.5,   405.9,  365.3,  328.8, 2.78, 2.34),
    (6,    461.8,   392.5,   341.3,   290.7,  261.7,  235.5, 2.79, 2.34),
    (7,    350.0,   297.5,   258.7,   220.4,  198.4,  178.5, 2.80, 2.35),
    (8,    276.0,   235.1,   204.4,   174.1,  156.7,  141.1, 2.81, 2.36),
    (9,    225.6,   191.8,   166.8,   142.0,  127.8,  115.1, 2.82, 2.37),
    (10,   188.7,   160.4,   139.5,   118.8,  106.9,   96.2, 2.83, 2.37),
    (11,   161.1,   136.9,   119.1,   101.4,   91.3,   82.2, 2.84, 2.38),
    (12,   139.9,   118.9,   103.4,    88.1,   79.3,   71.3, 2.85, 2.39),
    (13,   125.2,   104.7,    91.1,    77.6,   69.8,   62.8, 2.86, 2.40),
    (14,   109.8,    93.4,    81.2,    69.2,   62.2,   56.0, 2.87, 2.40),
    (15,    99.0,    84.1,    73.2,    62.3,   56.1,   50.5, 2.88, 2.41),
    (16,    90.0,    76.5,    66.5,    56.7,   51.0,   45.9, 2.88, 2.42),
    (17,    82.6,    70.2,    61.0,    52.0,   46.8,   42.1, 2.89, 2.43),
    (18,    76.3,    64.9,    56.4,    48.0,   43.2,   38.9, 2.90, 2.44),
    (19,    71.0,    60.3,    52.5,    44.7,   40.2,   36.2, 2.91, 2.44),
    (20,    66.4,    56.5,    49.1,    41.8,   37.6,   33.9, 2.92, 2.45),
    (21,    62.5,    53.1,    46.2,    39.4,   35.4,   31.9, 2.93, 2.46),
    (22,    59.1,    50.3,    43.7,    37.2,   33.5,   30.2, 2.94, 2.47),
    (23,    56.2,    47.7,    41.5,    35.4,   31.8,   28.6, 2.95, 2.48),
    (24,    53.5,    45.5,    39.6,    33.7,   30.3,   27.3, 2.96, 2.49),
    (25,    51.2,    43.5,    37.8,    32.2,   29.0,   26.1, 2.96, 2.49),
    (26,    49.1,    41.7,    36.3,    30.9,   27.8,   25.0, 2.98, 2.50),
    (27, 47.2, 40.1, 34.9, 29.7, 26.8, 24.1, 2.99, 2.51),
    (28, 45.5, 38.7, 33.6, 28.6, 25.8, 23.2, 3.00, 2.52),
    (29, 43.9, 37.4, 32.5, 27.7, 24.9, 22.4, 3.01, 2.53),
    (30, 42.5, 36.1, 31.4, 26.8, 24.1, 21.7, 3.02, 2.54),
    (31, 41.1, 34.9, 30.4, 25.9, 23.3, 20.9, 3.03, 2.55),
    (32, 39.6, 33.7, 29.3, 24.9, 22.4, 20.2, 3.05, 2.56),
    (33, 38.1, 32.4, 28.2, 24.0, 21.6, 19.4, 3.06, 2.57),
    (34, 36.7, 31.2, 27.1, 23.1, 20.8, 18.7, 3.08, 2.58),
    (35, 35.2, 29.9, 26.0, 22.2, 20.0, 18.0, 3.10, 2.60),
    (36, 33.8, 28.7, 25.0, 21.3, 19.1, 17.2, 3.12, 2.62),
    (37, 32.3, 27.5, 23.9, 20.3, 18.3, 16.5, 3.14, 2.64),
    (38, 30.9, 26.2, 22.8, 19.4, 17.5, 15.7, 3.17, 2.66),
    (39, 29.4, 25.0, 21.7, 18.5, 16.7, 15.0, 3.20, 2.68),
    (40, 28.0, 23.8, 20.7, 17.6, 15.9, 14.3, 3.23, 2.71),
    (41, 26.5, 22.6, 19.6, 16.7, 15.0, 13.5, 3.27, 2.74),
    (42, 25.1, 21.4, 18.6, 15.8, 14.2, 12.8, 3.31, 2.78),
    (43, 23.7, 20.2, 17.5, 14.9, 13.4, 12.1, 3.37, 2.83),
    (44, 22.6, 19.2, 16.7, 14.2, 12.8, 11.5, 3.42, 2.87),
    (45, 22.3, 19.0, 16.5, 14.0, 12.6, 11.4, 3.43, 2.88),
    (46, 21.4, 18.2, 15.8, 13.5, 12.1, 10.9, 3.49, 2.92),
    (47, 20.9, 17.8, 15.5, 13.2, 11.9, 10.7, 3.52, 2.95),
    (48, 19.6, 16.6, 14.5, 12.3, 11.5, 10.0, 3.62, 3.04),
    (49, 18.7, 15.9, 13.8, 11.8, 10.6, 9.5, 3.71, 3.11),
    (50, 19.6, 14.4, 12.5, 10.7, 9.6, 8.6, 3.95, 3.32),
    (51, 19.1, 16.3, 14.1, 12.0, 10.8, 9.8, 3.66, 3.07),
    (52, 20.1, 17.0, 14.8, 12.6, 11.4, 10.2, 3.58, 3.00),
]
CONC_NODES = [25.0, 30.0, 35.0, 40.0, 45.0, 50.0]

PHI_GRID = [6, 7, 8, 10, 12, 14, 16, 18, 20, 22, 24]
S_GRID = [x / 2 for x in range(14, 41)]  # 7.0 .. 20.0 cm

M_NODES = [1.00, 1.10, 1.20, 1.30, 1.40, 1.50, 1.75, 2.00]


from utils import _pts

SLAB_CASES = {
    # 1) DÖRT KENAR SÜREKLİ
    1: {
        "name": "Dört kenar sürekli",
        "short_neg": _pts([0.033, 0.040, 0.045, 0.050, 0.054, 0.059, 0.071, 0.083]),
        "short_pos": _pts([0.025, 0.030, 0.034, 0.038, 0.041, 0.045, 0.053, 0.062]),
        "long_neg": 0.033,
        "long_pos": 0.025,
    },
    # 2) BİR KENAR SÜREKSİZ
    2: {
        "name": "Bir kenar süreksiz",
        "short_neg": _pts([0.042, 0.047, 0.053, 0.057, 0.061, 0.065, 0.075, 0.085]),
        "short_pos": _pts([0.031, 0.035, 0.040, 0.043, 0.046, 0.049, 0.056, 0.064]),
        "long_neg": 0.042,
        "long_pos": 0.031,
    },
    # 3) İKİ KOMŞU KENAR SÜREKSİZ
    3: {
        "name": "İki komşu kenar süreksiz",
        "short_neg": _pts([0.049, 0.056, 0.062, 0.066, 0.070, 0.073, 0.082, 0.090]),
        "short_pos": _pts([0.037, 0.042, 0.047, 0.050, 0.053, 0.055, 0.062, 0.068]),
        "long_neg": 0.049,
        "long_pos": 0.037,
    },
    # 4) İKİ KISA KENAR SÜREKSİZ
    4: {
        "name": "İki kısa kenar süreksiz",
        "short_neg": _pts([0.056, 0.061, 0.065, 0.069, 0.071, 0.073, 0.077, 0.080]),
        "short_pos": _pts([0.044, 0.046, 0.049, 0.051, 0.053, 0.055, 0.058, 0.060]),
        "long_neg": 0.0,  # abakta ----
        "long_pos": 0.044,
    },
    # 5) İKİ UZUN KENAR SÜREKSİZ
    5: {
        "name": "İki uzun kenar süreksiz",
        "short_neg": None,  # abakta ----
        "short_pos": _pts([0.044, 0.053, 0.060, 0.065, 0.068, 0.071, 0.077, 0.080]),
        "long_neg": 0.056,
        "long_pos": 0.044,
    },
    # 6) ÜÇ KENAR SÜREKSİZ
    6: {
        "name": "Üç kenar süreksiz",
        "short_neg": _pts([0.058, 0.065, 0.071, 0.077, 0.081, 0.085, 0.092, 0.098]),
        "short_pos": _pts([0.044, 0.049, 0.054, 0.058, 0.061, 0.064, 0.069, 0.074]),
        "long_neg": 0.058,
        "long_pos": 0.044,
    },
    # 7) DÖRT KENAR SÜREKSİZ
    7: {
        "name": "Dört kenar süreksiz",
        "short_neg": None,  # negatif yok
        "short_pos": _pts([0.050, 0.057, 0.062, 0.067, 0.071, 0.075, 0.081, 0.083]),
        "long_neg": 0.0,
        "long_pos": 0.050,
    },
}